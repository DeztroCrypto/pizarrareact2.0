{"ast":null,"code":"import _slicedToArray from\"D:/GitHub/pizarrareact2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{click}from'@testing-library/user-event/dist/click';import{useEffect,useRef,useState}from'react';import'./styles.css';import'./w3.css';import{jsx as _jsx}from\"react/jsx-runtime\";var imDataBG;var imgData;var DrawingCanvas=function DrawingCanvas(props){var color=props.color;var grosor=props.grosor;var figura=props.figura;var img=props.img;var newImg=props.newImg;var socket=props.socket;var deshabilitado=props.deshabilitado;var newWidth=props.newWidth;var newHeight=props.newHeight;var canvasRef=useRef(null);var contextRef=useRef(null);var startX=useRef(0);var startY=useRef(0);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDrawing=_useState2[0],setIsDrawing=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isDrawingRect=_useState4[0],setDrawingRect=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isDrawingCircle=_useState6[0],setDrawingCircle=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isDrawingTriangle=_useState8[0],setDrawingTriangle=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDrawingImg=_useState10[0],setDrawingImg=_useState10[1];useEffect(function(){var canvas=canvasRef.current;canvas.width=canvas.clientWidth;canvas.height=canvas.clientHeight;var context=canvas.getContext(\"2d\",{willReadFrequently:true});context.lineCap=\"round\";context.lineJoin=\"round\";contextRef.current=context;},[]);useEffect(function(){var canvas=canvasRef.current;var imInit=contextRef.current.getImageData(0,0,canvas.width,canvas.height);canvas.width=canvas.clientWidth;canvas.height=canvas.clientHeight;contextRef.current.putImageData(imInit,0,0);},[window.innerHeight,window.innerWidth]);///\nsocket.on('drawing',onDrawingEvent);socket.on('cargarCanvas',cargarCanvas);///\nfunction cargarCanvas(data){var imagen=new Image();imagen.onload=function(){contextRef.current.drawImage(imagen,0,0);};imagen.src=data.imgData;}var startDrawing=function startDrawing(_ref){var nativeEvent=_ref.nativeEvent;if(figura===\"linea\"){var offsetX=nativeEvent.offsetX,offsetY=nativeEvent.offsetY;startX.current=offsetX;startY.current=offsetY;setIsDrawing(true);nativeEvent.preventDefault();}};var draw=function draw(_ref2){var nativeEvent=_ref2.nativeEvent;if(!isDrawing){return;}var offsetX=nativeEvent.offsetX,offsetY=nativeEvent.offsetY;socketDrawLine(startX.current,startY.current,offsetX,offsetY,color,grosor,true);startX.current=offsetX;startY.current=offsetY;nativeEvent.preventDefault();};var socketDrawLine=function socketDrawLine(x0,y0,x1,y1,color,grosor,emit){contextRef.current.strokeStyle=color;contextRef.current.lineWidth=grosor;contextRef.current.beginPath();contextRef.current.moveTo(x0,y0);contextRef.current.lineTo(x1,y1);contextRef.current.stroke();contextRef.current.closePath();var imgData=canvasRef.current.toDataURL();if(!emit){return;}socket.emit('drawing',{x0:x0,y0:y0,x1:x1,y1:y1,color:color,grosor:grosor,imgData:imgData,figura:figura});};var stopDrawing=function stopDrawing(_ref3){var nativeEvent=_ref3.nativeEvent;if(!isDrawing){return;}contextRef.current.closePath();setIsDrawing(false);};var startDrawRectangle=function startDrawRectangle(_ref4){var nativeEvent=_ref4.nativeEvent;if(figura===\"cuadrado\"){startX.current=nativeEvent.offsetX;startY.current=nativeEvent.offsetY;imDataBG=canvasRef.current.toDataURL();setDrawingRect(true);}};var drawRectangle=function drawRectangle(_ref5){var nativeEvent=_ref5.nativeEvent;if(!isDrawingRect){return;}var newPosX=nativeEvent.offsetX;var newPosY=nativeEvent.offsetY;var rectWidth=newPosX-startX.current;var rectHeight=newPosY-startY.current;socketDrawCuadrado(startX.current,startY.current,rectWidth,rectHeight,color,grosor,imDataBG,true);};var socketDrawCuadrado=function socketDrawCuadrado(x0,y0,x1,y1,color,grosor,imDataBG,emit){contextRef.current.strokeStyle=color;contextRef.current.lineWidth=grosor;var imagen=new Image();imagen.onload=function(){contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);contextRef.current.drawImage(imagen,0,0);contextRef.current.strokeRect(x0,y0,x1,y1);};imagen.src=imDataBG;if(!emit){return;}imgData=canvasRef.current.toDataURL();socket.emit('drawing',{x0:x0,y0:y0,x1:x1,y1:y1,color:color,grosor:grosor,imDataBG:imDataBG,imgData:imgData,figura:figura});};var stopDrawRect=function stopDrawRect(_ref6){var nativeEvent=_ref6.nativeEvent;if(!isDrawingRect){return;}setDrawingRect(false);};var startDrawCircle=function startDrawCircle(_ref7){var nativeEvent=_ref7.nativeEvent;if(figura===\"circulo\"){startX.current=nativeEvent.offsetX;startY.current=nativeEvent.offsetY;imDataBG=canvasRef.current.toDataURL();setDrawingCircle(true);}};var drawCircle=function drawCircle(_ref8){var nativeEvent=_ref8.nativeEvent;if(!isDrawingCircle){return;}var newPosX=nativeEvent.offsetX;var newPosY=nativeEvent.offsetY;var radioX=Math.abs(newPosX-startX.current);var radioY=Math.abs(newPosY-startY.current);var radioMax=Math.max(radioX,radioY);socketDrawCicrulo(startX.current,startY.current,radioMax,color,grosor,imDataBG,true);};var socketDrawCicrulo=function socketDrawCicrulo(x0,y0,radio,color,grosor,imDataBG,emit){contextRef.current.strokeStyle=color;contextRef.current.lineWidth=grosor;var imagen=new Image();imagen.onload=function(){contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);contextRef.current.drawImage(imagen,0,0);contextRef.current.beginPath();contextRef.current.arc(x0,y0,radio,0,2*Math.PI);contextRef.current.stroke();};imagen.src=imDataBG;if(!emit){return;}imgData=canvasRef.current.toDataURL();socket.emit('drawing',{x0:x0,y0:y0,radio:radio,color:color,grosor:grosor,imDataBG:imDataBG,imgData:imgData,figura:figura});};var stopDrawCircle=function stopDrawCircle(_ref9){var nativeEvent=_ref9.nativeEvent;if(!isDrawingCircle){return;}setDrawingCircle(false);};var startDrawTriangle=function startDrawTriangle(_ref10){var nativeEvent=_ref10.nativeEvent;if(figura===\"triangulo\"){startX.current=nativeEvent.offsetX;startY.current=nativeEvent.offsetY;imDataBG=canvasRef.current.toDataURL();setDrawingTriangle(true);}};var drawTriangle=function drawTriangle(_ref11){var nativeEvent=_ref11.nativeEvent;if(!isDrawingTriangle){return;}var vertice=startX.current*2-nativeEvent.offsetX;socketDrawTriangulo(startX.current,startY.current,nativeEvent.offsetX,vertice,nativeEvent.offsetY,color,grosor,imDataBG,true);};var socketDrawTriangulo=function socketDrawTriangulo(x0,y0,x1,x2,altura,color,grosor,imDataBG,emit){contextRef.current.strokeStyle=color;contextRef.current.lineWidth=grosor;var imagen=new Image();imagen.onload=function(){contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);contextRef.current.drawImage(imagen,0,0);contextRef.current.beginPath();contextRef.current.moveTo(x0,y0);contextRef.current.lineTo(x1,altura);contextRef.current.lineTo(x2,altura);contextRef.current.closePath();contextRef.current.stroke();};imagen.src=imDataBG;if(!emit){return;}imgData=canvasRef.current.toDataURL();socket.emit('drawing',{x0:x0,y0:y0,x1:x1,x2:x2,altura:altura,color:color,grosor:grosor,imDataBG:imDataBG,imgData:imgData,figura:figura});};var stopDrawTriangle=function stopDrawTriangle(_ref12){var nativeEvent=_ref12.nativeEvent;if(!isDrawingTriangle){return;}setDrawingTriangle(false);};var drawImg=function drawImg(_ref13){var nativeEvent=_ref13.nativeEvent;if(!isDrawingImg){return;}var offsetX=nativeEvent.offsetX;var offsetY=nativeEvent.offsetY;var x0=offsetX+startX.current;var y0=offsetY+startY.current;socketDrawImage(img,x0,y0,newWidth,newHeight,newImg,true);nativeEvent.preventDefault();};var socketDrawImage=function socketDrawImage(img,x0,y0,newWidth,newHeight,srcNewImg,emit){var BGimage=new Image();var image=new Image();BGimage.src=srcNewImg;BGimage.onload=function(){image.src=img;image.onload=function(){contextRef.current.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);contextRef.current.drawImage(BGimage,0,0,canvasRef.current.width,canvasRef.current.height);contextRef.current.drawImage(image,x0,y0,newWidth,newHeight);};};if(!emit){return;}imgData=canvasRef.current.toDataURL();socket.emit('drawing',{img:img,x0:x0,y0:y0,newWidth:newWidth,newHeight:newHeight,srcNewImg:srcNewImg,imgData:imgData,figura:figura});};var startDrawingImg=function startDrawingImg(_ref14){var nativeEvent=_ref14.nativeEvent;if(figura===\"img\"){startX.current-=nativeEvent.offsetX;startY.current-=nativeEvent.offsetY;setDrawingImg(true);}};var stopDrawImg=function stopDrawImg(_ref15){var nativeEvent=_ref15.nativeEvent;if(!isDrawingImg){return;}startX.current+=nativeEvent.offsetX;startY.current+=nativeEvent.offsetY;setDrawingImg(false);};function onDrawingEvent(data){switch(data.figura){case'linea':socketDrawLine(data.x0,data.y0,data.x1,data.y1,data.color,data.grosor);break;case'cuadrado':socketDrawCuadrado(data.x0,data.y0,data.x1,data.y1,data.color,data.grosor,data.imgData);break;case'circulo':socketDrawCicrulo(data.x0,data.y0,data.radio,data.color,data.grosor,data.imgData);break;case'triangulo':socketDrawTriangulo(data.x0,data.y0,data.x1,data.x2,data.altura,data.color,data.grosor,data.imgData);break;case'img':socketDrawImage(data.img,data.x0,data.y0,data.newWidth,data.newHeight,data.srcNewImg);break;}}var funcionOnMouseDown=function funcionOnMouseDown(nativeEvent){if(!deshabilitado){startDrawing(nativeEvent);startDrawRectangle(nativeEvent);startDrawCircle(nativeEvent);startDrawTriangle(nativeEvent);startDrawingImg(nativeEvent);}};var functionOnMouseMove=function functionOnMouseMove(nativeEvent){draw(nativeEvent);drawRectangle(nativeEvent);drawCircle(nativeEvent);drawTriangle(nativeEvent);drawImg(nativeEvent);};var functionOnMouseUp=function functionOnMouseUp(nativeEvent){stopDrawing(nativeEvent);stopDrawRect(nativeEvent);stopDrawCircle(nativeEvent);stopDrawTriangle(nativeEvent);stopDrawImg(nativeEvent);};var functionOnMouseOut=function functionOnMouseOut(nativeEvent){stopDrawing(nativeEvent);stopDrawRect(nativeEvent);stopDrawCircle(nativeEvent);stopDrawTriangle(nativeEvent);};return/*#__PURE__*/_jsx(\"canvas\",{className:\"canvas-container\",id:\"pizarra\",ref:canvasRef,onMouseDown:funcionOnMouseDown,onMouseMove:functionOnMouseMove,onMouseUp:functionOnMouseUp,onMouseOut:functionOnMouseOut});};export default DrawingCanvas;","map":{"version":3,"names":["click","useEffect","useRef","useState","imDataBG","imgData","DrawingCanvas","props","color","grosor","figura","img","newImg","socket","deshabilitado","newWidth","newHeight","canvasRef","contextRef","startX","startY","isDrawing","setIsDrawing","isDrawingRect","setDrawingRect","isDrawingCircle","setDrawingCircle","isDrawingTriangle","setDrawingTriangle","isDrawingImg","setDrawingImg","canvas","current","width","clientWidth","height","clientHeight","context","getContext","willReadFrequently","lineCap","lineJoin","imInit","getImageData","putImageData","window","innerHeight","innerWidth","on","onDrawingEvent","cargarCanvas","data","imagen","Image","onload","drawImage","src","startDrawing","nativeEvent","offsetX","offsetY","preventDefault","draw","socketDrawLine","x0","y0","x1","y1","emit","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","closePath","toDataURL","stopDrawing","startDrawRectangle","drawRectangle","newPosX","newPosY","rectWidth","rectHeight","socketDrawCuadrado","clearRect","strokeRect","stopDrawRect","startDrawCircle","drawCircle","radioX","Math","abs","radioY","radioMax","max","socketDrawCicrulo","radio","arc","PI","stopDrawCircle","startDrawTriangle","drawTriangle","vertice","socketDrawTriangulo","x2","altura","stopDrawTriangle","drawImg","socketDrawImage","srcNewImg","BGimage","image","startDrawingImg","stopDrawImg","funcionOnMouseDown","functionOnMouseMove","functionOnMouseUp","functionOnMouseOut"],"sources":["D:/GitHub/pizarrareact2.0/client/src/DrawingCanvas.js"],"sourcesContent":["import { click } from '@testing-library/user-event/dist/click'\r\nimport { useEffect, useRef, useState } from 'react'\r\nimport './styles.css'\r\nimport './w3.css'\r\nvar imDataBG\r\nvar imgData\r\nconst DrawingCanvas = (props) => {\r\n  let color = props.color\r\n  let grosor = props.grosor\r\n  let figura = props.figura\r\n  let img = props.img\r\n  let newImg = props.newImg\r\n  let socket = props.socket\r\n  let deshabilitado = props.deshabilitado\r\n\r\n  let newWidth = props.newWidth\r\n  let newHeight = props.newHeight\r\n\r\n  const canvasRef = useRef(null)\r\n  const contextRef = useRef(null)\r\n  const startX = useRef(0)\r\n  const startY = useRef(0)\r\n\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [isDrawingRect, setDrawingRect] = useState(false);\r\n  const [isDrawingCircle, setDrawingCircle] = useState(false);\r\n  const [isDrawingTriangle, setDrawingTriangle] = useState(false);\r\n  const [isDrawingImg, setDrawingImg] = useState(false);\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n\r\n    canvas.width = canvas.clientWidth;\r\n    canvas.height = canvas.clientHeight;\r\n\r\n    const context = canvas.getContext(\"2d\", { willReadFrequently: true });\r\n    context.lineCap = \"round\";\r\n    context.lineJoin = \"round\";\r\n    contextRef.current = context;\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    let imInit = contextRef.current.getImageData(0, 0, canvas.width, canvas.height)\r\n    canvas.width = canvas.clientWidth;\r\n    canvas.height = canvas.clientHeight;\r\n    contextRef.current.putImageData(imInit, 0, 0)\r\n  }, [window.innerHeight, window.innerWidth])\r\n\r\n  ///\r\n  socket.on('drawing', onDrawingEvent)\r\n  socket.on('cargarCanvas', cargarCanvas)\r\n  ///\r\n  \r\n  function cargarCanvas(data) {\r\n    const imagen = new Image\r\n    imagen.onload = () => {\r\n      contextRef.current.drawImage(imagen, 0, 0)\r\n    }\r\n    imagen.src = data.imgData\r\n  }\r\n\r\n  const startDrawing = ({ nativeEvent }) => {\r\n    if (figura === \"linea\") {\r\n      const { offsetX, offsetY } = nativeEvent;\r\n      startX.current = offsetX;\r\n      startY.current = offsetY\r\n      setIsDrawing(true);\r\n      nativeEvent.preventDefault();\r\n    }\r\n  };\r\n  const draw = ({ nativeEvent }) => {\r\n    if (!isDrawing) {\r\n      return;\r\n    }\r\n    const { offsetX, offsetY } = nativeEvent;\r\n    socketDrawLine(startX.current, startY.current, offsetX, offsetY, color, grosor, true)\r\n    startX.current = offsetX\r\n    startY.current = offsetY\r\n    nativeEvent.preventDefault();\r\n  };\r\n\r\n  const socketDrawLine = (x0, y0, x1, y1, color, grosor, emit) => {\r\n    contextRef.current.strokeStyle = color;\r\n    contextRef.current.lineWidth = grosor;\r\n    contextRef.current.beginPath();\r\n    contextRef.current.moveTo(x0, y0)\r\n    contextRef.current.lineTo(x1, y1)\r\n    contextRef.current.stroke()\r\n    contextRef.current.closePath()\r\n    const imgData = canvasRef.current.toDataURL()\r\n    if (!emit) {\r\n      return\r\n    }\r\n    socket.emit('drawing', {\r\n      x0,\r\n      y0,\r\n      x1,\r\n      y1,\r\n      color,\r\n      grosor,\r\n      imgData,\r\n      figura\r\n    })\r\n  }\r\n\r\n  const stopDrawing = ({ nativeEvent }) => {\r\n    if (!isDrawing) {\r\n      return;\r\n    }\r\n    contextRef.current.closePath();\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const startDrawRectangle = ({ nativeEvent }) => {\r\n    if (figura === \"cuadrado\") {\r\n      startX.current = nativeEvent.offsetX\r\n      startY.current = nativeEvent.offsetY\r\n      imDataBG = canvasRef.current.toDataURL()\r\n      setDrawingRect(true)\r\n    }\r\n  }\r\n\r\n  const drawRectangle = ({ nativeEvent }) => {\r\n    if (!isDrawingRect) {\r\n      return\r\n    }\r\n    const newPosX = nativeEvent.offsetX\r\n    const newPosY = nativeEvent.offsetY\r\n    const rectWidth = newPosX - startX.current\r\n    const rectHeight = newPosY - startY.current\r\n    socketDrawCuadrado(startX.current, startY.current, rectWidth, rectHeight, color, grosor, imDataBG, true)\r\n  }\r\n\r\n  const socketDrawCuadrado = (x0, y0, x1, y1, color, grosor, imDataBG, emit) => {\r\n    contextRef.current.strokeStyle = color;\r\n    contextRef.current.lineWidth = grosor;\r\n    const imagen = new Image\r\n    imagen.onload = () => {\r\n      contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n      contextRef.current.drawImage(imagen, 0, 0)\r\n      contextRef.current.strokeRect(x0, y0, x1, y1)\r\n    }\r\n    imagen.src = imDataBG\r\n    if (!emit) {\r\n      return\r\n    }\r\n    imgData = canvasRef.current.toDataURL()\r\n    socket.emit('drawing', {\r\n      x0,\r\n      y0,\r\n      x1,\r\n      y1,\r\n      color,\r\n      grosor,\r\n      imDataBG,\r\n      imgData,\r\n      figura\r\n    })\r\n  }\r\n\r\n  const stopDrawRect = ({ nativeEvent }) => {\r\n    if (!isDrawingRect) {\r\n      return\r\n    }\r\n    setDrawingRect(false)\r\n  }\r\n\r\n  const startDrawCircle = ({ nativeEvent }) => {\r\n    if (figura === \"circulo\") {\r\n      startX.current = nativeEvent.offsetX\r\n      startY.current = nativeEvent.offsetY\r\n      imDataBG = canvasRef.current.toDataURL()\r\n      setDrawingCircle(true)\r\n    }\r\n  }\r\n\r\n  const drawCircle = ({ nativeEvent }) => {\r\n    if (!isDrawingCircle) {\r\n      return\r\n    }\r\n    const newPosX = nativeEvent.offsetX\r\n    const newPosY = nativeEvent.offsetY\r\n    const radioX = Math.abs(newPosX - startX.current)\r\n    const radioY = Math.abs(newPosY - startY.current)\r\n    const radioMax = Math.max(radioX, radioY)\r\n    socketDrawCicrulo(startX.current, startY.current, radioMax, color, grosor, imDataBG, true)\r\n  }\r\n\r\n  const socketDrawCicrulo = (x0, y0, radio, color, grosor, imDataBG, emit) => {\r\n    contextRef.current.strokeStyle = color;\r\n    contextRef.current.lineWidth = grosor;\r\n    const imagen = new Image\r\n    imagen.onload = () => {\r\n      contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n      contextRef.current.drawImage(imagen, 0, 0)\r\n      contextRef.current.beginPath()\r\n      contextRef.current.arc(x0, y0, radio, 0, 2 * Math.PI)\r\n      contextRef.current.stroke()\r\n\r\n    }\r\n    imagen.src = imDataBG\r\n    if (!emit) {\r\n      return\r\n    }\r\n    imgData = canvasRef.current.toDataURL()\r\n    socket.emit('drawing', {\r\n      x0,\r\n      y0,\r\n      radio,\r\n      color,\r\n      grosor,\r\n      imDataBG,\r\n      imgData,\r\n      figura\r\n    })\r\n  }\r\n\r\n  const stopDrawCircle = ({ nativeEvent }) => {\r\n    if (!isDrawingCircle) {\r\n      return\r\n    }\r\n    setDrawingCircle(false)\r\n  }\r\n\r\n  const startDrawTriangle = ({ nativeEvent }) => {\r\n    if (figura === \"triangulo\") {\r\n      startX.current = nativeEvent.offsetX\r\n      startY.current = nativeEvent.offsetY\r\n      imDataBG = canvasRef.current.toDataURL()\r\n      setDrawingTriangle(true)\r\n    }\r\n  }\r\n\r\n  const drawTriangle = ({ nativeEvent }) => {\r\n    if (!isDrawingTriangle) {\r\n      return\r\n    }\r\n    const vertice = startX.current * 2 - nativeEvent.offsetX\r\n    socketDrawTriangulo(startX.current, startY.current, nativeEvent.offsetX, vertice, nativeEvent.offsetY, color, grosor, imDataBG, true)\r\n\r\n  }\r\n\r\n  const socketDrawTriangulo = (x0, y0, x1, x2, altura, color, grosor, imDataBG, emit) => {\r\n    contextRef.current.strokeStyle = color;\r\n    contextRef.current.lineWidth = grosor;\r\n    const imagen = new Image\r\n    imagen.onload = () => {\r\n      contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n      contextRef.current.drawImage(imagen, 0, 0)\r\n      contextRef.current.beginPath();\r\n      contextRef.current.moveTo(x0, y0);\r\n      contextRef.current.lineTo(x1, altura);\r\n      contextRef.current.lineTo(x2, altura);\r\n      contextRef.current.closePath();\r\n      contextRef.current.stroke();\r\n    }\r\n    imagen.src = imDataBG\r\n    if (!emit) {\r\n      return\r\n    }\r\n    imgData = canvasRef.current.toDataURL()\r\n    socket.emit('drawing', {\r\n      x0,\r\n      y0,\r\n      x1,\r\n      x2,\r\n      altura,\r\n      color,\r\n      grosor,\r\n      imDataBG,\r\n      imgData,\r\n      figura\r\n    })\r\n  }\r\n\r\n  const stopDrawTriangle = ({ nativeEvent }) => {\r\n    if (!isDrawingTriangle) {\r\n      return\r\n    }\r\n    setDrawingTriangle(false)\r\n  }\r\n\r\n  const drawImg = ({ nativeEvent }) => {\r\n    if (!isDrawingImg) {\r\n      return\r\n    }\r\n    const offsetX = nativeEvent.offsetX\r\n    const offsetY = nativeEvent.offsetY\r\n    const x0 = offsetX + startX.current\r\n    const y0 = offsetY + startY.current\r\n    socketDrawImage(img, x0, y0, newWidth, newHeight, newImg, true)\r\n    nativeEvent.preventDefault();\r\n  }\r\n\r\n  const socketDrawImage = (img, x0, y0, newWidth, newHeight, srcNewImg, emit) => {\r\n    const BGimage = new Image\r\n    const image = new Image\r\n    BGimage.src = srcNewImg\r\n    BGimage.onload = () => {\r\n      image.src = img\r\n      image.onload = () => {\r\n        contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n        contextRef.current.drawImage(BGimage, 0, 0, canvasRef.current.width, canvasRef.current.height)\r\n        contextRef.current.drawImage(image, x0, y0, newWidth, newHeight)\r\n      }\r\n    }\r\n\r\n    if (!emit) {\r\n      return\r\n    }\r\n    imgData = canvasRef.current.toDataURL()\r\n    socket.emit('drawing', {\r\n      img,\r\n      x0,\r\n      y0,\r\n      newWidth,\r\n      newHeight,\r\n      srcNewImg,\r\n      imgData,\r\n      figura\r\n    })\r\n  }\r\n\r\n  const startDrawingImg = ({ nativeEvent }) => {\r\n\r\n    if (figura === \"img\") {\r\n      startX.current -= nativeEvent.offsetX\r\n      startY.current -= nativeEvent.offsetY\r\n      setDrawingImg(true)\r\n    }\r\n  }\r\n  const stopDrawImg = ({ nativeEvent }) => {\r\n    if (!isDrawingImg) {\r\n      return\r\n    }\r\n    startX.current += nativeEvent.offsetX\r\n    startY.current += nativeEvent.offsetY\r\n    setDrawingImg(false)\r\n  }\r\n\r\n  function onDrawingEvent(data) {\r\n    switch (data.figura) {\r\n      case 'linea':\r\n        socketDrawLine(data.x0, data.y0, data.x1, data.y1, data.color, data.grosor);\r\n        break;\r\n      case 'cuadrado':\r\n        socketDrawCuadrado(data.x0, data.y0, data.x1, data.y1, data.color, data.grosor, data.imgData)\r\n        break;\r\n      case 'circulo':\r\n        socketDrawCicrulo(data.x0, data.y0, data.radio, data.color, data.grosor, data.imgData)\r\n        break;\r\n      case 'triangulo':\r\n        socketDrawTriangulo(data.x0, data.y0, data.x1, data.x2, data.altura, data.color, data.grosor, data.imgData)\r\n        break;\r\n      case 'img':\r\n        socketDrawImage(data.img, data.x0, data.y0, data.newWidth, data.newHeight, data.srcNewImg)\r\n        break;\r\n    }\r\n  }\r\n\r\n  const funcionOnMouseDown = (nativeEvent) => {\r\n    if(!deshabilitado){\r\n      startDrawing(nativeEvent)\r\n      startDrawRectangle(nativeEvent)\r\n      startDrawCircle(nativeEvent)\r\n      startDrawTriangle(nativeEvent)\r\n      startDrawingImg(nativeEvent)\r\n    }\r\n  }\r\n\r\n  const functionOnMouseMove = (nativeEvent) => {\r\n    draw(nativeEvent)\r\n    drawRectangle(nativeEvent)\r\n    drawCircle(nativeEvent)\r\n    drawTriangle(nativeEvent)\r\n    drawImg(nativeEvent)\r\n  }\r\n\r\n  const functionOnMouseUp = (nativeEvent) => {\r\n    stopDrawing(nativeEvent)\r\n    stopDrawRect(nativeEvent)\r\n    stopDrawCircle(nativeEvent)\r\n    stopDrawTriangle(nativeEvent)\r\n    stopDrawImg(nativeEvent)\r\n  }\r\n\r\n  const functionOnMouseOut = (nativeEvent) => {\r\n    stopDrawing(nativeEvent)\r\n    stopDrawRect(nativeEvent)\r\n    stopDrawCircle(nativeEvent)\r\n    stopDrawTriangle(nativeEvent)\r\n  }\r\n\r\n  return (\r\n    <canvas className=\"canvas-container\" id='pizarra'\r\n      ref={canvasRef}\r\n      onMouseDown={funcionOnMouseDown}\r\n      onMouseMove={functionOnMouseMove}\r\n      onMouseUp={functionOnMouseUp}\r\n      onMouseOut={functionOnMouseOut}\r\n    >\r\n    </canvas>\r\n  )\r\n}\r\n\r\nexport default DrawingCanvas"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}