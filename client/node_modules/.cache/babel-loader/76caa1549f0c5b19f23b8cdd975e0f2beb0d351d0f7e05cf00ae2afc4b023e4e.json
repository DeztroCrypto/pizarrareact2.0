{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\pizarrareact2.0\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport DrawingCanvas, { subir_imagen } from \"./DrawingCanvas\";\nimport { obtenerId } from \"./DrawingCanvas\";\nimport Barra_Herramientas from \"./Barra_Herramientas\";\nimport Barra_Colores from \"./Barra_Colores\";\nimport Barra_Grosor from \"./Barra_Grosor\";\nimport Barra_Funciones from \"./Barra_Funciones\";\nimport \"./styles.css\";\nimport \"./w3.css\";\nimport Barra_Figuras from \"./Barra_Figuras\";\nimport { useEffect } from \"react\";\nimport Barra_CRUD from \"./Barra_CRUD\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB || window.shimIndexedDB;\nconst crearBaseDeDatos = () => {\n  if (!indexedDB) {\n    console.log(\"IndexedDB no soportado\");\n    return;\n  }\n  const request = indexedDB.open(\"Pizarra-DB\", 1);\n  request.onsuccess = () => {\n    const bd = request.result;\n  };\n  request.onupgradeneeded = () => {\n    const bd = request.result;\n    bd.createObjectStore(\"lienzosGuardados\", {\n      keyPath: \"nombre\"\n    });\n  };\n  request.onerror = e => {\n    console.log(\"Error\", e);\n    console.log(\"An error occurred with IndexedDB\");\n  };\n};\nvar actuImg;\nfunction App(props) {\n  _s();\n  useEffect(() => {\n    crearBaseDeDatos();\n    leerLienzos();\n  }, []);\n  const socket = props.socket;\n  const [figura, setFigura] = useState(\"linea\");\n  const [colorAct, setColor] = useState(\"black\");\n  const [grosorAct, setGrosor] = useState(3);\n  const [img, setImg] = useState(null);\n  const [newImg, setnewImg] = useState(null);\n  const [newWidth, setWidth] = useState(200);\n  const [newHeight, setHeight] = useState(200);\n  const [deshabilitado, setDeshabilitado] = useState(true);\n  const [listaUsuarios, setListaUsuarios] = useState(null);\n  useEffect(() => {\n    leerLienzos();\n  }, [deshabilitado]);\n  const cambiar_color = element => {\n    setColor(element.target.value);\n  };\n  const cambiar_grosor = element => {\n    setGrosor(element.target.value);\n  };\n  const cambiar_lapiz = () => {\n    setFigura(\"linea\");\n    if (colorAct === \"#ffffff\") {\n      setColor(\"black\");\n    }\n    document.getElementById(\"resize\").style.display = \"none\";\n  };\n  const cambiar_borrador = () => {\n    setFigura(\"linea\");\n    setColor(\"#ffffff\");\n    document.getElementById(\"resize\").style.display = \"none\";\n  };\n  const dibujarCuadrado = () => {\n    setFigura(\"cuadrado\");\n    if (colorAct === \"#ffffff\") {\n      setColor(\"black\");\n    }\n    document.getElementById(\"resize\").style.display = \"none\";\n  };\n  const dibujarTriangulo = () => {\n    setFigura(\"triangulo\");\n    if (colorAct === \"#ffffff\") {\n      setColor(\"black\");\n    }\n    document.getElementById(\"resize\").style.display = \"none\";\n  };\n  const dibujarCirculo = () => {\n    setFigura(\"circulo\");\n    if (colorAct === \"#ffffff\") {\n      setColor(\"black\");\n    }\n    document.getElementById(\"resize\").style.display = \"none\";\n  };\n  const guardarLienzo = () => {\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1);\n    dbPromise.onsuccess = () => {\n      const bd = dbPromise.result;\n      let ingresoTexto = document.getElementById(\"ingresoNombreLienzo\");\n      if (ingresoTexto.value) {\n        const transaction = bd.transaction([\"lienzosGuardados\"], \"readwrite\");\n        const lienzoStore = transaction.objectStore(\"lienzosGuardados\");\n        const canvas = document.getElementById('pizarra');\n        var image = canvas.toDataURL();\n        var nombre = ingresoTexto.value;\n        const transactionRead = bd.transaction([\"lienzosGuardados\"], \"readonly\");\n        const lienzoRead = transactionRead.objectStore(\"lienzosGuardados\");\n        const requestRead = lienzoRead.get(nombre);\n        requestRead.onsuccess = () => {\n          const newtransaction = bd.transaction([\"lienzosGuardados\"], \"readwrite\");\n          const newlienzoStore = newtransaction.objectStore(\"lienzosGuardados\");\n          if (requestRead.result) {\n            const requestAdd = newlienzoStore.put({\n              nombre,\n              image\n            });\n            alert(`Lienzo ${nombre} actualizado`);\n            ingresoTexto.value = \"\";\n          } else {\n            const requestAdd = newlienzoStore.add({\n              nombre,\n              image\n            });\n            alert(`Lienzo guardado con el nombre ${ingresoTexto.value}`);\n            ingresoTexto.value = \"\";\n          }\n          leerLienzos();\n        };\n      } else {\n        alert(\"Ingrese un nombre al lienzo porfavor\");\n      }\n    };\n  };\n  const leerLienzos = () => {\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1);\n    dbPromise.onsuccess = () => {\n      const bd = dbPromise.result;\n      const lienzos = document.getElementById(\"lienzos\");\n      const transaction = bd.transaction([\"lienzosGuardados\"], \"readonly\");\n      const lienzoStore = transaction.objectStore(\"lienzosGuardados\");\n      const request = lienzoStore.openCursor();\n      const fragment = document.createDocumentFragment();\n      request.onsuccess = e => {\n        const cursor = e.target.result;\n        if (cursor) {\n          const img = document.createElement(\"img\");\n          const nombrePizarra = document.createElement(\"label\");\n          img.src = cursor.value.image;\n          img.id = \"lienzoGuardado\";\n          nombrePizarra.innerHTML = cursor.value.nombre;\n          const elementoLienzo = document.createElement(\"div\");\n          elementoLienzo.id = \"elementoLienzo\";\n          elementoLienzo.appendChild(nombrePizarra);\n          elementoLienzo.appendChild(img);\n          const divBotones = document.createElement(\"div\");\n          divBotones.id = \"botonesLienzoGuardado\";\n          const botonActualizar = document.createElement(\"button\");\n          botonActualizar.textContent = \"Cargar\";\n          botonActualizar.id = \"botonCRUD\";\n          botonActualizar.className = \"botonCRUD\";\n          botonActualizar.onclick = cargarLienzo;\n          botonActualizar.id = \"botonCRUD\";\n          botonActualizar.dataset.nombre = cursor.value.nombre;\n          divBotones.appendChild(botonActualizar);\n          const botonEliminar = document.createElement(\"button\");\n          botonEliminar.textContent = \"Eliminar\";\n          botonEliminar.id = \"botonCRUD\";\n          botonEliminar.className = \"botonCRUD\";\n          botonEliminar.onclick = eliminarLienzo;\n          botonEliminar.dataset.nombre = cursor.value.nombre;\n          divBotones.appendChild(botonEliminar);\n          if (deshabilitado) {\n            botonActualizar.disabled = true;\n            botonEliminar.disabled = true;\n          }\n          elementoLienzo.appendChild(divBotones);\n          fragment.appendChild(elementoLienzo);\n          cursor.continue();\n        } else {\n          lienzos.textContent = \"\";\n          lienzos.appendChild(fragment);\n        }\n      };\n    };\n  };\n  const cargarLienzo = e => {\n    const key = e.target.dataset.nombre;\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1);\n    dbPromise.onsuccess = () => {\n      const bd = dbPromise.result;\n      const transaction = bd.transaction([\"lienzosGuardados\"], \"readonly\");\n      const lienzoStore = transaction.objectStore(\"lienzosGuardados\");\n      const request = lienzoStore.get(key);\n      request.onsuccess = () => {\n        socketCargarLienzo(request.result.image, true);\n        document.getElementById(\"ingresoNombreLienzo\").value = request.result.nombre;\n        cambiar_lapiz();\n      };\n    };\n  };\n  function cargarLienzoSocket(data) {\n    socketCargarLienzo(data.lienzo);\n  }\n  const socketCargarLienzo = (lienzo, emit) => {\n    const canvas = document.getElementById('pizarra');\n    const context = canvas.getContext(\"2d\");\n    const imagen = new Image();\n    imagen.onload = () => {\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      context.drawImage(imagen, 0, 0);\n      const imgData = canvas.toDataURL();\n      if (!emit) {\n        return;\n      }\n      socket.emit('cargarLienzo', {\n        lienzo,\n        imgData\n      });\n    };\n    imagen.src = lienzo;\n  };\n  const eliminarLienzo = e => {\n    const key = e.target.dataset.nombre;\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1);\n    dbPromise.onsuccess = () => {\n      const bd = dbPromise.result;\n      const transaction = bd.transaction([\"lienzosGuardados\"], \"readwrite\");\n      const lienzoStore = transaction.objectStore(\"lienzosGuardados\");\n      const request = lienzoStore.delete(key);\n      request.onsuccess = () => {\n        leerLienzos();\n        alert(`El lienzo ${key} se eliminar√°`);\n      };\n    };\n  };\n\n  //////\n  socket.on('subirImagen', subirImagen);\n  socket.on('redimensionarImagen', redimensionarImagen);\n  socket.on('cargarLienzo', cargarLienzoSocket);\n  socket.on('limpiarPizarra', limpiarPizarra);\n  socket.on('envioUsuariosActuales', recargarListaUsuarios);\n  socket.on('actualizarLista', recargarListaUsuarios);\n  socket.on('levantarMano', levantarManoUsuario);\n  socket.on('bajarMano', bajarManoUsuario);\n  socket.on('brindarEdicionUsuarioHabilitado', habilitarEdicion);\n  socket.on('pasarEdicion', pasarEdicionUsuario);\n  /////\n\n  function habilitarEdicion(data) {\n    if (data.usuarioHabilitadoDibujar === socket.id) {\n      setDeshabilitado(false);\n    }\n  }\n  function recargarListaUsuarios(data) {\n    const fragment = document.createDocumentFragment();\n    const sectorUsuarios = document.getElementById(\"sectorListaUsuarios\");\n    sectorUsuarios.innerHTML = \"\";\n    let listaUsuarios = data.lista;\n    setListaUsuarios(listaUsuarios);\n    for (let indice in listaUsuarios) {\n      const divUsuario = document.createElement(\"div\");\n      divUsuario.className = \"usuario\";\n      const labelUsuario = document.createElement(\"label\");\n      labelUsuario.innerHTML = listaUsuarios[indice].nombre;\n      if (socket.id === listaUsuarios[indice].id) {\n        labelUsuario.style.textDecoration = \"underline\";\n        labelUsuario.style.fontWeight;\n      }\n      const botonPasarEdicion = document.createElement(\"button\");\n      botonPasarEdicion.textContent = \"Pasar l√°piz\";\n      botonPasarEdicion.className = \"botonUsuario\";\n      botonPasarEdicion.id = listaUsuarios[indice].id;\n      botonPasarEdicion.onclick = pasarEdicion;\n      botonPasarEdicion.dataset.id = listaUsuarios[indice].id;\n      botonPasarEdicion.style.visibility = \"hidden\";\n      divUsuario.appendChild(labelUsuario);\n      divUsuario.appendChild(botonPasarEdicion);\n      fragment.appendChild(divUsuario);\n    }\n    sectorUsuarios.appendChild(fragment);\n    if (!data.emit) {\n      return;\n    }\n    socket.emit('ingresoUsuario', {\n      lista: listaUsuarios\n    });\n  }\n  const pasarEdicion = event => {\n    const idNuevoUsuarioHabilitado = event.target.dataset.id;\n    if (socket.id !== idNuevoUsuarioHabilitado) {\n      setDeshabilitado(true);\n      socketPasarEdicion(idNuevoUsuarioHabilitado, true);\n    } else {\n      alert(\"No tienes permiso para hacer eso\");\n    }\n  };\n  function pasarEdicionUsuario(data) {\n    socketPasarEdicion(data.id);\n  }\n  const socketPasarEdicion = (id, emit) => {\n    if (socket.id === id) {\n      setDeshabilitado(false);\n    }\n    if (!emit) {\n      return;\n    }\n    socket.emit('pasarEdicion', {\n      id\n    });\n  };\n  const levantarMano = () => {\n    const botonLevantarMano = document.getElementById(\"botonLevantarMano\");\n    botonLevantarMano.style.visibility = \"hidden\";\n    const botonBajarMano = document.getElementById(\"botonBajarMano\");\n    botonBajarMano.style.visibility = \"visible\";\n    socketLevantarMano(socket.id, true);\n  };\n  function levantarManoUsuario(data) {\n    socketLevantarMano(data.id);\n  }\n  const socketLevantarMano = (id, emit) => {\n    const botonRespectivoUsuario = document.getElementById(id);\n    botonRespectivoUsuario.style.visibility = \"visible\";\n    if (!emit) {\n      return;\n    }\n    socket.emit('levantarMano', {\n      id\n    });\n  };\n  const bajarMano = () => {\n    const botonBajarMano = document.getElementById(\"botonBajarMano\");\n    botonBajarMano.style.visibility = \"hidden\";\n    const botonLevantarMano = document.getElementById(\"botonLevantarMano\");\n    botonLevantarMano.style.visibility = \"visible\";\n    socketBajarMano(socket.id, true);\n  };\n  function bajarManoUsuario(data) {\n    socketBajarMano(data.id);\n  }\n  const socketBajarMano = (id, emit) => {\n    const botonRespectivoUsuario = document.getElementById(id);\n    botonRespectivoUsuario.style.visibility = \"hidden\";\n    if (!emit) {\n      return;\n    }\n    socket.emit('bajarMano', {\n      id\n    });\n  };\n  function limpiarPizarra() {\n    socketLimpiarPizarra();\n  }\n  const limpiar_pizarra = () => {\n    socketLimpiarPizarra(true);\n    document.getElementById(\"resize\").style.display = \"none\";\n  };\n  const socketLimpiarPizarra = emit => {\n    const canvas = document.getElementById('pizarra');\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    let imgData = canvas.toDataURL();\n    if (!emit) {\n      return;\n    }\n    socket.emit('limpiarPizarra', {\n      imgData\n    });\n  };\n  const subir_imagen = () => {\n    const file = document.querySelector('#inp').files[0];\n    const canvas = document.getElementById('pizarra');\n    const context = canvas.getContext('2d');\n    actuImg = canvas.toDataURL();\n    setnewImg(actuImg);\n    setWidth(200);\n    setHeight(200);\n    const src = URL.createObjectURL(file);\n    setImg(src);\n    socketSubirImagen(src, newWidth, newHeight, true);\n    setFigura('img');\n    document.querySelector('#inp').addEventListener('onchange', function (e) {\n      e.currentTarget.files = null;\n    });\n  };\n  const socketSubirImagen = (src, newWidth, newHeight, emit) => {\n    const canvas = document.getElementById('pizarra');\n    const context = canvas.getContext('2d');\n    let img = document.createElement('img');\n    var imgData;\n    img.id = 'imgSub';\n    img.src = src;\n    img.onload = () => {\n      context.drawImage(img, 0, 0, newWidth, newHeight);\n      document.getElementById(\"resize\").style.display = \"block\";\n      imgData = canvas.toDataURL();\n      if (!emit) {\n        return;\n      }\n      socket.emit('subirImagen', {\n        src,\n        newWidth,\n        newHeight,\n        imgData\n      });\n    };\n  };\n  function subirImagen(data) {\n    socketSubirImagen(data.src, data.newWidth, data.newHeight);\n  }\n  const downloadImg = () => {\n    let enlace = document.createElement('a');\n    enlace.download = \"lienzo.png\";\n    const canvas = document.getElementById('pizarra');\n    enlace.href = canvas.toDataURL();\n    enlace.click();\n  };\n  const resizeImg = () => {\n    const file = document.querySelector('input[type=file]').files[0];\n    const src = URL.createObjectURL(file);\n    const widthImg = document.getElementById('w').value;\n    const heightImg = document.getElementById('h').value;\n    setWidth(widthImg);\n    setHeight(heightImg);\n    socketResizeImg(src, widthImg, heightImg, actuImg, true);\n    setFigura('img');\n  };\n  function redimensionarImagen(data) {\n    socketResizeImg(data.src, data.newWidth, data.newHeight, data.actuImg);\n  }\n  const socketResizeImg = (src, newWidth, newHeight, actuImg, emit) => {\n    let img = new Image();\n    let BGImg = new Image();\n    const canvas = document.getElementById('pizarra');\n    const context = canvas.getContext('2d');\n    BGImg.src = actuImg;\n    img.src = src;\n    img.id = 'imgSub';\n    var imgData;\n    BGImg.onload = () => {\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      context.drawImage(BGImg, 0, 0);\n    };\n    img.onload = () => {\n      context.drawImage(img, 0, 0, newWidth, newHeight);\n      imgData = canvas.toDataURL();\n      if (!emit) {\n        return;\n      }\n      socket.emit('redimensionarImagen', {\n        src,\n        newWidth,\n        newHeight,\n        actuImg,\n        imgData\n      });\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"principal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w3-col guardado\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Barra_CRUD, {\n            funcionGuardarLienzo: guardarLienzo,\n            funcionCargarLienzo: cargarLienzo,\n            deshabilitado: deshabilitado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"contenedorLienzos\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"lienzos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w3-col pizarra\",\n        children: /*#__PURE__*/_jsxDEV(DrawingCanvas, {\n          color: colorAct,\n          grosor: grosorAct,\n          figura: figura,\n          img: img,\n          newImg: newImg,\n          newWidth: newWidth,\n          newHeight: newHeight,\n          socket: socket,\n          deshabilitado: deshabilitado\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w3-col tools\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w3-col\",\n          children: /*#__PURE__*/_jsxDEV(Barra_Herramientas, {\n            funcionPincel: cambiar_lapiz,\n            funcionBorrador: cambiar_borrador,\n            deshabilitado: deshabilitado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w3-col\",\n          children: /*#__PURE__*/_jsxDEV(Barra_Colores, {\n            funcionColor: cambiar_color,\n            deshabilitado: deshabilitado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w3-col\",\n          children: /*#__PURE__*/_jsxDEV(Barra_Grosor, {\n            funcionGrosor: cambiar_grosor,\n            deshabilitado: deshabilitado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w3-col\",\n          children: /*#__PURE__*/_jsxDEV(Barra_Figuras, {\n            funcionFiguraCuadrado: dibujarCuadrado,\n            funcionFiguraTriangulo: dibujarTriangulo,\n            funcionFiguraCirculo: dibujarCirculo,\n            deshabilitado: deshabilitado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w3-col\",\n          children: /*#__PURE__*/_jsxDEV(Barra_Funciones, {\n            funcionLimpiar: limpiar_pizarra,\n            funcionFiguraImagen: subir_imagen,\n            funciontamanoImagen: resizeImg,\n            funciondescargaImagen: downloadImg,\n            deshabilitado: deshabilitado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"divUsuarios\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contenedorUsuarios\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Usuarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"sectorListaUsuarios\",\n          className: \"listaUsuarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"botonesLevantarBajar\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"botonLevantarMano\",\n          className: \"botonLevantar\",\n          onClick: levantarMano,\n          children: \"Levantar la Mano\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"botonBajarMano\",\n          className: \"botonBajar\",\n          onClick: bajarMano,\n          children: \"Bajar la Mano\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"E0/x4xamYENTUOI65bGZdM3txIc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","DrawingCanvas","subir_imagen","obtenerId","Barra_Herramientas","Barra_Colores","Barra_Grosor","Barra_Funciones","Barra_Figuras","useEffect","Barra_CRUD","indexedDB","window","mozIndexedDB","webkitIndexedDB","msIndexedDB","shimIndexedDB","crearBaseDeDatos","console","log","request","open","onsuccess","bd","result","onupgradeneeded","createObjectStore","keyPath","onerror","e","actuImg","App","props","leerLienzos","socket","figura","setFigura","colorAct","setColor","grosorAct","setGrosor","img","setImg","newImg","setnewImg","newWidth","setWidth","newHeight","setHeight","deshabilitado","setDeshabilitado","listaUsuarios","setListaUsuarios","cambiar_color","element","target","value","cambiar_grosor","cambiar_lapiz","document","getElementById","style","display","cambiar_borrador","dibujarCuadrado","dibujarTriangulo","dibujarCirculo","guardarLienzo","dbPromise","ingresoTexto","transaction","lienzoStore","objectStore","canvas","image","toDataURL","nombre","transactionRead","lienzoRead","requestRead","get","newtransaction","newlienzoStore","requestAdd","put","alert","add","lienzos","openCursor","fragment","createDocumentFragment","cursor","createElement","nombrePizarra","src","id","innerHTML","elementoLienzo","appendChild","divBotones","botonActualizar","textContent","className","onclick","cargarLienzo","dataset","botonEliminar","eliminarLienzo","disabled","continue","key","socketCargarLienzo","cargarLienzoSocket","data","lienzo","emit","context","getContext","imagen","Image","onload","clearRect","width","height","drawImage","imgData","delete","on","subirImagen","redimensionarImagen","limpiarPizarra","recargarListaUsuarios","levantarManoUsuario","bajarManoUsuario","habilitarEdicion","pasarEdicionUsuario","usuarioHabilitadoDibujar","sectorUsuarios","lista","indice","divUsuario","labelUsuario","textDecoration","fontWeight","botonPasarEdicion","pasarEdicion","visibility","event","idNuevoUsuarioHabilitado","socketPasarEdicion","levantarMano","botonLevantarMano","botonBajarMano","socketLevantarMano","botonRespectivoUsuario","bajarMano","socketBajarMano","socketLimpiarPizarra","limpiar_pizarra","file","querySelector","files","URL","createObjectURL","socketSubirImagen","addEventListener","currentTarget","downloadImg","enlace","download","href","click","resizeImg","widthImg","heightImg","socketResizeImg","BGImg"],"sources":["D:/Web/pizarrareact2.0/client/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport DrawingCanvas, { subir_imagen } from \"./DrawingCanvas\";\r\nimport { obtenerId } from \"./DrawingCanvas\";\r\nimport Barra_Herramientas from \"./Barra_Herramientas\";\r\nimport Barra_Colores from \"./Barra_Colores\"\r\nimport Barra_Grosor from \"./Barra_Grosor\";\r\nimport Barra_Funciones from \"./Barra_Funciones\";\r\nimport \"./styles.css\"\r\nimport \"./w3.css\"\r\nimport Barra_Figuras from \"./Barra_Figuras\";\r\nimport { useEffect } from \"react\";\r\nimport Barra_CRUD from \"./Barra_CRUD\";\r\n\r\nconst indexedDB =\r\n  window.indexedDB ||\r\n  window.mozIndexedDB ||\r\n  window.webkitIndexedDB ||\r\n  window.msIndexedDB ||\r\n  window.shimIndexedDB;\r\n\r\nconst crearBaseDeDatos = () => {\r\n  if (!indexedDB) {\r\n    console.log(\"IndexedDB no soportado\")\r\n    return\r\n  }\r\n  const request = indexedDB.open(\"Pizarra-DB\", 1)\r\n  request.onsuccess = () => {\r\n    const bd = request.result\r\n  }\r\n\r\n  request.onupgradeneeded = () => {\r\n    const bd = request.result\r\n    bd.createObjectStore(\"lienzosGuardados\", { keyPath: \"nombre\" })\r\n  }\r\n  request.onerror = (e) => {\r\n    console.log(\"Error\", e)\r\n    console.log(\"An error occurred with IndexedDB\")\r\n  }\r\n}\r\nvar actuImg\r\nfunction App(props) {\r\n  useEffect(() => {\r\n    crearBaseDeDatos()\r\n    leerLienzos()\r\n  }, [])\r\n  const socket = props.socket\r\n  const [figura, setFigura] = useState(\"linea\")\r\n  const [colorAct, setColor] = useState(\"black\")\r\n  const [grosorAct, setGrosor] = useState(3)\r\n  const [img, setImg] = useState(null)\r\n  const [newImg, setnewImg] = useState(null)\r\n  const [newWidth, setWidth] = useState(200)\r\n  const [newHeight, setHeight] = useState(200)\r\n  const [deshabilitado, setDeshabilitado] = useState(true)\r\n  const [listaUsuarios, setListaUsuarios] = useState(null)\r\n  useEffect(() => {\r\n    leerLienzos()\r\n  }, [deshabilitado])\r\n  const cambiar_color = (element) => {\r\n    setColor(element.target.value)\r\n  }\r\n\r\n  const cambiar_grosor = (element) => {\r\n    setGrosor(element.target.value)\r\n  }\r\n\r\n  const cambiar_lapiz = () => {\r\n    setFigura(\"linea\")\r\n    if (colorAct === \"#ffffff\") {\r\n      setColor(\"black\")\r\n    }\r\n    document.getElementById(\"resize\").style.display = \"none\";\r\n  }\r\n\r\n  const cambiar_borrador = () => {\r\n    setFigura(\"linea\")\r\n    setColor(\"#ffffff\")\r\n    document.getElementById(\"resize\").style.display = \"none\";\r\n  }\r\n\r\n  const dibujarCuadrado = () => {\r\n    setFigura(\"cuadrado\")\r\n    if (colorAct === \"#ffffff\") {\r\n      setColor(\"black\")\r\n    }\r\n    document.getElementById(\"resize\").style.display = \"none\";\r\n  }\r\n\r\n\r\n  const dibujarTriangulo = () => {\r\n    setFigura(\"triangulo\")\r\n    if (colorAct === \"#ffffff\") {\r\n      setColor(\"black\")\r\n\r\n    }\r\n    document.getElementById(\"resize\").style.display = \"none\";\r\n  }\r\n\r\n\r\n  const dibujarCirculo = () => {\r\n    setFigura(\"circulo\")\r\n    if (colorAct === \"#ffffff\") {\r\n      setColor(\"black\")\r\n\r\n    }\r\n    document.getElementById(\"resize\").style.display = \"none\";\r\n  }\r\n\r\n  const guardarLienzo = () => {\r\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1)\r\n    dbPromise.onsuccess = () => {\r\n      const bd = dbPromise.result\r\n      let ingresoTexto = document.getElementById(\"ingresoNombreLienzo\")\r\n      if (ingresoTexto.value) {\r\n        const transaction = bd.transaction([\"lienzosGuardados\"], \"readwrite\")\r\n        const lienzoStore = transaction.objectStore(\"lienzosGuardados\")\r\n        const canvas = document.getElementById('pizarra')\r\n        var image = canvas.toDataURL();\r\n        var nombre = ingresoTexto.value\r\n\r\n        const transactionRead = bd.transaction([\"lienzosGuardados\"], \"readonly\")\r\n        const lienzoRead = transactionRead.objectStore(\"lienzosGuardados\")\r\n        const requestRead = lienzoRead.get(nombre)\r\n        requestRead.onsuccess = () => {\r\n          const newtransaction = bd.transaction([\"lienzosGuardados\"], \"readwrite\")\r\n          const newlienzoStore = newtransaction.objectStore(\"lienzosGuardados\")\r\n          if (requestRead.result) {\r\n            const requestAdd = newlienzoStore.put({\r\n              nombre,\r\n              image\r\n            })\r\n            alert(`Lienzo ${nombre} actualizado`)\r\n            ingresoTexto.value = \"\"\r\n          } else {\r\n            const requestAdd = newlienzoStore.add({\r\n              nombre,\r\n              image\r\n            })\r\n            alert(`Lienzo guardado con el nombre ${ingresoTexto.value}`)\r\n            ingresoTexto.value = \"\"\r\n          }\r\n          leerLienzos()\r\n        }\r\n\r\n      } else {\r\n        alert(\"Ingrese un nombre al lienzo porfavor\")\r\n      }\r\n    }\r\n  }\r\n\r\n  const leerLienzos = () => {\r\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1)\r\n    dbPromise.onsuccess = () => {\r\n      const bd = dbPromise.result\r\n      const lienzos = document.getElementById(\"lienzos\")\r\n      const transaction = bd.transaction([\"lienzosGuardados\"], \"readonly\")\r\n      const lienzoStore = transaction.objectStore(\"lienzosGuardados\")\r\n      const request = lienzoStore.openCursor()\r\n      const fragment = document.createDocumentFragment()\r\n\r\n      request.onsuccess = (e) => {\r\n        const cursor = e.target.result\r\n        if (cursor) {\r\n          const img = document.createElement(\"img\")\r\n          const nombrePizarra = document.createElement(\"label\")\r\n          img.src = cursor.value.image\r\n          img.id = \"lienzoGuardado\"\r\n          nombrePizarra.innerHTML = cursor.value.nombre\r\n          const elementoLienzo = document.createElement(\"div\")\r\n          elementoLienzo.id = \"elementoLienzo\"\r\n          elementoLienzo.appendChild(nombrePizarra)\r\n          elementoLienzo.appendChild(img)\r\n          const divBotones = document.createElement(\"div\")\r\n          divBotones.id = \"botonesLienzoGuardado\"\r\n          const botonActualizar = document.createElement(\"button\")\r\n          botonActualizar.textContent = \"Cargar\"\r\n          botonActualizar.id = \"botonCRUD\"\r\n          botonActualizar.className = \"botonCRUD\"\r\n          botonActualizar.onclick = cargarLienzo\r\n          botonActualizar.id = \"botonCRUD\"\r\n          botonActualizar.dataset.nombre = cursor.value.nombre\r\n          divBotones.appendChild(botonActualizar)\r\n          const botonEliminar = document.createElement(\"button\")\r\n          botonEliminar.textContent = \"Eliminar\"\r\n          botonEliminar.id = \"botonCRUD\"\r\n          botonEliminar.className = \"botonCRUD\"\r\n          botonEliminar.onclick = eliminarLienzo\r\n          botonEliminar.dataset.nombre = cursor.value.nombre\r\n          divBotones.appendChild(botonEliminar)\r\n          if (deshabilitado) {\r\n            botonActualizar.disabled = true\r\n            botonEliminar.disabled = true\r\n          }\r\n          elementoLienzo.appendChild(divBotones)\r\n          fragment.appendChild(elementoLienzo)\r\n          cursor.continue()\r\n        } else {\r\n          lienzos.textContent = \"\"\r\n          lienzos.appendChild(fragment)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const cargarLienzo = (e) => {\r\n    const key = e.target.dataset.nombre\r\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1)\r\n    dbPromise.onsuccess = () => {\r\n      const bd = dbPromise.result\r\n      const transaction = bd.transaction([\"lienzosGuardados\"], \"readonly\")\r\n      const lienzoStore = transaction.objectStore(\"lienzosGuardados\")\r\n      const request = lienzoStore.get(key)\r\n      request.onsuccess = () => {\r\n        socketCargarLienzo(request.result.image,true)\r\n        document.getElementById(\"ingresoNombreLienzo\").value = request.result.nombre\r\n        cambiar_lapiz()\r\n      }\r\n    }\r\n  }\r\n\r\n  function cargarLienzoSocket(data){\r\n      socketCargarLienzo(data.lienzo)\r\n  }\r\n\r\n  const socketCargarLienzo = (lienzo,emit) => {\r\n    const canvas = document.getElementById('pizarra')\r\n    const context = canvas.getContext(\"2d\")\r\n    const imagen = new Image\r\n    imagen.onload = () => {\r\n      context.clearRect(0, 0, canvas.width, canvas.height);\r\n      context.drawImage(imagen, 0, 0)\r\n      const imgData = canvas.toDataURL()\r\n      if(!emit){\r\n        return\r\n      }\r\n      socket.emit('cargarLienzo',{\r\n        lienzo,\r\n        imgData\r\n      })\r\n    }\r\n    imagen.src = lienzo\r\n  }\r\n\r\n  const eliminarLienzo = (e) => {\r\n    const key = e.target.dataset.nombre\r\n    const dbPromise = indexedDB.open(\"Pizarra-DB\", 1)\r\n    dbPromise.onsuccess = () => {\r\n      const bd = dbPromise.result\r\n      const transaction = bd.transaction([\"lienzosGuardados\"], \"readwrite\")\r\n      const lienzoStore = transaction.objectStore(\"lienzosGuardados\")\r\n      const request = lienzoStore.delete(key)\r\n      request.onsuccess = () => {\r\n        leerLienzos()\r\n        alert(`El lienzo ${key} se eliminar√°`)\r\n      }\r\n    }\r\n  }\r\n\r\n  //////\r\n  socket.on('subirImagen', subirImagen)\r\n  socket.on('redimensionarImagen', redimensionarImagen)\r\n  socket.on('cargarLienzo',cargarLienzoSocket)\r\n  socket.on('limpiarPizarra', limpiarPizarra)\r\n  socket.on('envioUsuariosActuales', recargarListaUsuarios)\r\n  socket.on('actualizarLista', recargarListaUsuarios)\r\n  socket.on('levantarMano', levantarManoUsuario)\r\n  socket.on('bajarMano', bajarManoUsuario)\r\n  socket.on('brindarEdicionUsuarioHabilitado', habilitarEdicion)\r\n  socket.on('pasarEdicion', pasarEdicionUsuario)\r\n  /////\r\n\r\n  function habilitarEdicion(data) {\r\n    if (data.usuarioHabilitadoDibujar === socket.id) {\r\n      setDeshabilitado(false)\r\n    }\r\n  }\r\n\r\n  function recargarListaUsuarios(data) {\r\n    const fragment = document.createDocumentFragment()\r\n    const sectorUsuarios = document.getElementById(\"sectorListaUsuarios\")\r\n    sectorUsuarios.innerHTML = \"\"\r\n    let listaUsuarios = data.lista\r\n    setListaUsuarios(listaUsuarios)\r\n    for (let indice in listaUsuarios) {\r\n      const divUsuario = document.createElement(\"div\")\r\n      divUsuario.className = \"usuario\"\r\n      const labelUsuario = document.createElement(\"label\")\r\n      labelUsuario.innerHTML = listaUsuarios[indice].nombre\r\n      if(socket.id === listaUsuarios[indice].id){\r\n        labelUsuario.style.textDecoration = \"underline\"\r\n        labelUsuario.style.fontWeight\r\n      }\r\n      const botonPasarEdicion = document.createElement(\"button\")\r\n      botonPasarEdicion.textContent = \"Pasar l√°piz\"\r\n      botonPasarEdicion.className = \"botonUsuario\"\r\n      botonPasarEdicion.id = listaUsuarios[indice].id\r\n      botonPasarEdicion.onclick = pasarEdicion\r\n      botonPasarEdicion.dataset.id = listaUsuarios[indice].id\r\n      botonPasarEdicion.style.visibility = \"hidden\"\r\n\r\n      divUsuario.appendChild(labelUsuario)\r\n      divUsuario.appendChild(botonPasarEdicion)\r\n      fragment.appendChild(divUsuario)\r\n    }\r\n    sectorUsuarios.appendChild(fragment)\r\n    if (!data.emit) {\r\n      return\r\n    }\r\n    socket.emit('ingresoUsuario', { lista: listaUsuarios })\r\n  }\r\n\r\n  const pasarEdicion = (event) => {\r\n    const idNuevoUsuarioHabilitado = event.target.dataset.id\r\n    if (socket.id !== idNuevoUsuarioHabilitado) {\r\n      setDeshabilitado(true)\r\n      socketPasarEdicion(idNuevoUsuarioHabilitado, true)\r\n    }else{\r\n      alert(\"No tienes permiso para hacer eso\")\r\n    }\r\n  }\r\n\r\n  function pasarEdicionUsuario(data) {\r\n    socketPasarEdicion(data.id)\r\n  }\r\n\r\n  const socketPasarEdicion = (id, emit) => {\r\n    if (socket.id === id) {\r\n      setDeshabilitado(false)\r\n    }\r\n    if (!emit) {\r\n      return\r\n    }\r\n    socket.emit('pasarEdicion', {\r\n      id\r\n    })\r\n  }\r\n\r\n  const levantarMano = () => {\r\n    const botonLevantarMano = document.getElementById(\"botonLevantarMano\")\r\n    botonLevantarMano.style.visibility = \"hidden\"\r\n    const botonBajarMano = document.getElementById(\"botonBajarMano\")\r\n    botonBajarMano.style.visibility = \"visible\"\r\n    socketLevantarMano(socket.id, true)\r\n  }\r\n\r\n  function levantarManoUsuario(data) {\r\n    socketLevantarMano(data.id)\r\n  }\r\n\r\n  const socketLevantarMano = (id, emit) => {\r\n    const botonRespectivoUsuario = document.getElementById(id)\r\n    botonRespectivoUsuario.style.visibility = \"visible\"\r\n    if (!emit) {\r\n      return\r\n    }\r\n    socket.emit('levantarMano', {\r\n      id\r\n    })\r\n  }\r\n\r\n  const bajarMano = () => {\r\n    const botonBajarMano = document.getElementById(\"botonBajarMano\")\r\n    botonBajarMano.style.visibility = \"hidden\"\r\n    const botonLevantarMano = document.getElementById(\"botonLevantarMano\")\r\n    botonLevantarMano.style.visibility = \"visible\"\r\n    socketBajarMano(socket.id, true)\r\n  }\r\n\r\n  function bajarManoUsuario(data) {\r\n    socketBajarMano(data.id)\r\n  }\r\n\r\n  const socketBajarMano = (id, emit) => {\r\n    const botonRespectivoUsuario = document.getElementById(id)\r\n    botonRespectivoUsuario.style.visibility = \"hidden\"\r\n    if (!emit) {\r\n      return\r\n    }\r\n    socket.emit('bajarMano', {\r\n      id\r\n    })\r\n  }\r\n\r\n  function limpiarPizarra() {\r\n    socketLimpiarPizarra()\r\n  }\r\n\r\n  const limpiar_pizarra = () => {\r\n    socketLimpiarPizarra(true)\r\n    document.getElementById(\"resize\").style.display = \"none\";\r\n  }\r\n\r\n  const socketLimpiarPizarra = (emit) => {\r\n    const canvas = document.getElementById('pizarra')\r\n    const context = canvas.getContext(\"2d\");\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n    let imgData = canvas.toDataURL()\r\n    if (!emit) {\r\n      return\r\n    }\r\n    socket.emit('limpiarPizarra', {\r\n      imgData\r\n    })\r\n  }\r\n\r\n  const subir_imagen = () => {\r\n    const file = document.querySelector('#inp').files[0]\r\n    const canvas = document.getElementById('pizarra')\r\n    const context = canvas.getContext('2d')\r\n    actuImg = canvas.toDataURL()\r\n    setnewImg(actuImg)\r\n\r\n    setWidth(200)\r\n    setHeight(200)\r\n    const src = URL.createObjectURL(file)\r\n    setImg(src)\r\n    socketSubirImagen(src, newWidth, newHeight, true)\r\n    setFigura('img')\r\n    document.querySelector('#inp').addEventListener('onchange', function (e) {\r\n      e.currentTarget.files = null;\r\n    })\r\n  }\r\n\r\n  const socketSubirImagen = (src, newWidth, newHeight, emit) => {\r\n    const canvas = document.getElementById('pizarra')\r\n    const context = canvas.getContext('2d')\r\n    let img = document.createElement('img')\r\n    var imgData\r\n    img.id = 'imgSub'\r\n    img.src = src\r\n    img.onload = () => {\r\n      context.drawImage(img, 0, 0, newWidth, newHeight)\r\n      document.getElementById(\"resize\").style.display = \"block\";\r\n      imgData = canvas.toDataURL()\r\n      if (!emit) {\r\n        return\r\n      }\r\n      socket.emit('subirImagen', {\r\n        src,\r\n        newWidth,\r\n        newHeight,\r\n        imgData\r\n      })\r\n    }\r\n  }\r\n  function subirImagen(data) {\r\n    socketSubirImagen(data.src, data.newWidth, data.newHeight)\r\n  }\r\n\r\n  const downloadImg = () => {\r\n    let enlace = document.createElement('a')\r\n    enlace.download = \"lienzo.png\"\r\n    const canvas = document.getElementById('pizarra')\r\n\r\n    enlace.href = canvas.toDataURL();\r\n    enlace.click();\r\n  }\r\n\r\n\r\n  const resizeImg = () => {\r\n    const file = document.querySelector('input[type=file]').files[0]\r\n    const src = URL.createObjectURL(file)\r\n    const widthImg = document.getElementById('w').value\r\n    const heightImg = document.getElementById('h').value\r\n    setWidth(widthImg)\r\n    setHeight(heightImg)\r\n    socketResizeImg(src, widthImg, heightImg, actuImg, true)\r\n    setFigura('img')\r\n  }\r\n\r\n  function redimensionarImagen(data) {\r\n    socketResizeImg(data.src, data.newWidth, data.newHeight, data.actuImg)\r\n  }\r\n\r\n  const socketResizeImg = (src, newWidth, newHeight, actuImg, emit) => {\r\n    let img = new Image\r\n    let BGImg = new Image\r\n    const canvas = document.getElementById('pizarra')\r\n    const context = canvas.getContext('2d')\r\n    BGImg.src = actuImg\r\n    img.src = src\r\n    img.id = 'imgSub'\r\n    var imgData\r\n    BGImg.onload = () => {\r\n      context.clearRect(0, 0, canvas.width, canvas.height)\r\n      context.drawImage(BGImg, 0, 0)\r\n    }\r\n    img.onload = () => {\r\n      context.drawImage(img, 0, 0, newWidth, newHeight)\r\n      imgData = canvas.toDataURL()\r\n      if (!emit) {\r\n        return\r\n      }\r\n      socket.emit('redimensionarImagen', {\r\n        src,\r\n        newWidth,\r\n        newHeight,\r\n        actuImg,\r\n        imgData\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return <>\r\n    <div className=\"principal\">\r\n      <div className=\"w3-col guardado\">\r\n        <div>\r\n          <Barra_CRUD funcionGuardarLienzo={guardarLienzo} funcionCargarLienzo={cargarLienzo} deshabilitado={deshabilitado} />\r\n        </div>\r\n        <div id=\"contenedorLienzos\">\r\n          <div id=\"lienzos\"></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"w3-col pizarra\">\r\n        <DrawingCanvas\r\n          color={colorAct}\r\n          grosor={grosorAct}\r\n          figura={figura}\r\n          img={img}\r\n          newImg={newImg}\r\n          newWidth={newWidth}\r\n          newHeight={newHeight}\r\n          socket={socket}\r\n          deshabilitado={deshabilitado}\r\n        ></DrawingCanvas>\r\n      </div>\r\n      <div className=\"w3-col tools\">\r\n        <div className=\"w3-col\">\r\n          <Barra_Herramientas funcionPincel={cambiar_lapiz} funcionBorrador={cambiar_borrador} deshabilitado={deshabilitado} />\r\n        </div>\r\n        <div className=\"w3-col\">\r\n          <Barra_Colores funcionColor={cambiar_color} deshabilitado={deshabilitado} />\r\n        </div>\r\n        <div className=\"w3-col\">\r\n          <Barra_Grosor funcionGrosor={cambiar_grosor} deshabilitado={deshabilitado} />\r\n        </div>\r\n        <div className=\"w3-col\">\r\n          <Barra_Figuras funcionFiguraCuadrado={dibujarCuadrado} funcionFiguraTriangulo={dibujarTriangulo} funcionFiguraCirculo={dibujarCirculo} deshabilitado={deshabilitado} />\r\n        </div>\r\n        <div className=\"w3-col\">\r\n          <Barra_Funciones funcionLimpiar={limpiar_pizarra} funcionFiguraImagen={subir_imagen} funciontamanoImagen={resizeImg} funciondescargaImagen={downloadImg} deshabilitado={deshabilitado} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div className=\"divUsuarios\">\r\n      <div className=\"contenedorUsuarios\">\r\n        <h1>Usuarios</h1>\r\n        <div id=\"sectorListaUsuarios\" className=\"listaUsuarios\"></div>\r\n      </div>\r\n      <div className=\"botonesLevantarBajar\">\r\n        <button id=\"botonLevantarMano\" className=\"botonLevantar\" onClick={levantarMano}>Levantar la Mano</button>\r\n        <button id=\"botonBajarMano\" className=\"botonBajar\" onClick={bajarMano} >Bajar la Mano</button>\r\n      </div>\r\n    </div>\r\n  </>\r\n\r\n\r\n}\r\n\r\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}